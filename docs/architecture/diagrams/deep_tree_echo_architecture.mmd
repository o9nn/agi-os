graph TB
    subgraph ROOT["ğŸª Root Membrane (System Boundary)"]
        direction TB
        
        subgraph COGNITIVE["ğŸ§  Cognitive Membrane (Core Processing)"]
            direction TB
            MEMORY["ğŸ’­ Memory Membrane<br/>(Storage & Retrieval)"]
            REASONING["âš¡ Reasoning Membrane<br/>(Inference & Logic)"]
            GRAMMAR["ğŸ­ Grammar Membrane<br/>(Symbolic Processing)"]
        end
        
        subgraph EXTENSION["ğŸ”Œ Extension Membrane (Plugin Container)"]
            direction TB
            BROWSER["ğŸŒ Browser Membrane"]
            ML["ğŸ“Š ML Membrane"]
            INTROSPECT["ğŸª Introspection Membrane"]
        end
        
        subgraph SECURITY["ğŸ›¡ï¸ Security Membrane (Validation & Control)"]
            direction TB
            AUTH["ğŸ”’ Authentication Membrane"]
            VALID["âœ… Validation Membrane"]
            EMERGENCY["ğŸš¨ Emergency Membrane"]
        end
    end
    
    subgraph CORE["ğŸ§  Deep Tree Echo Core Engine"]
        direction TB
        
        subgraph HYPERGRAPH["ğŸŒ Hypergraph Memory Space"]
            direction LR
            DECLARATIVE["Declarative Memory<br/>(facts, concepts)"]
            PROCEDURAL["Procedural Memory<br/>(skills, algorithms)"]
            EPISODIC["Episodic Memory<br/>(experiences, events)"]
            INTENTIONAL["Intentional Memory<br/>(goals, plans)"]
        end
        
        subgraph ECHO["âš¡ Echo Propagation Engine"]
            direction LR
            ACTIVATION["Activation<br/>Spreading"]
            PATTERN["Pattern<br/>Recognition"]
            FEEDBACK["Feedback<br/>Loops"]
        end
        
        subgraph KERNEL["ğŸ­ Cognitive Grammar Kernel (Scheme)"]
            direction LR
            SYMBOLIC["Symbolic<br/>Reasoning"]
            NEURO["Neural-Symbolic<br/>Integration"]
            META["Meta-Cognitive<br/>Reflection"]
        end
    end
    
    subgraph EXT_ARCH["ğŸ”Œ Extension Architecture"]
        direction TB
        BROWSER_EXT["ğŸŒ Browser Automation<br/>(DeepTreeEchoBrowser)"]
        ML_EXT["ğŸ“Š ML Integration<br/>(Echo9ML)"]
        EVOLUTION["ğŸ§¬ Evolution Engine<br/>(EchoAgent)"]
        INTROSPECT_EXT["ğŸª Introspection System<br/>(EchoselfIntrospection)"]
        MONITOR["ğŸ“ˆ Monitoring Dashboard<br/>(DeepEchoMonitor)"]
        SENSORY["ğŸ¯ Sensory Motor Interface"]
    end
    
    subgraph INFRA["âš™ï¸ Infrastructure Services"]
        direction TB
        PSYSTEM["ğŸ”’ P-System<br/>Membrane Manager"]
        COMM["ğŸ“¡ Communication<br/>Protocols"]
        SEC_INFRA["ğŸ›¡ï¸ Security &<br/>Validation"]
        PERF["ğŸ“Š Performance<br/>Optimization"]
        VERSION["ğŸ”„ Version Control<br/>& Rollback"]
    end
    
    %% Connections between layers
    COGNITIVE --> CORE
    EXTENSION --> EXT_ARCH
    SECURITY --> INFRA
    
    CORE --> HYPERGRAPH
    CORE --> ECHO
    CORE --> KERNEL
    
    HYPERGRAPH --> ECHO
    ECHO --> KERNEL
    KERNEL --> HYPERGRAPH
    
    EXT_ARCH --> CORE
    INFRA --> CORE
    INFRA --> EXT_ARCH
    
    %% Styling
    classDef membraneStyle fill:#e1f5ff,stroke:#0288d1,stroke-width:3px,color:#01579b
    classDef coreStyle fill:#fff3e0,stroke:#f57c00,stroke-width:3px,color:#e65100
    classDef extensionStyle fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px,color:#4a148c
    classDef infraStyle fill:#e8f5e9,stroke:#388e3c,stroke-width:3px,color:#1b5e20
    
    class ROOT,COGNITIVE,EXTENSION,SECURITY membraneStyle
    class CORE,HYPERGRAPH,ECHO,KERNEL coreStyle
    class EXT_ARCH extensionStyle
    class INFRA infraStyle
